# kit

[![CRAN](https://www.r-pkg.org/badges/version-last-release/kit?color=blue)](https://cran.r-project.org/package=kit)
[![CRAN](https://badges.cranchecks.info/flavor/release/kit.svg)](https://cran.r-project.org/web/checks/check_results_kit.html)
[![License: GPL
v3](https://img.shields.io/github/license/fastverse/kit)](https://www.gnu.org/licenses/gpl-3.0)
[![R-CMD-check.yaml](https://github.com/fastverse/kit/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/fastverse/kit/actions/workflows/R-CMD-check.yaml)
[![Coverage
Status](https://codecov.io/gh/2005m/kit/graph/badge.svg)](https://codecov.io/github/2005m/kit?branch=master)
[![downloads](https://cranlogs.r-pkg.org/badges/kit)](https://www.r-pkg.org/pkg/kit)
[![kit status
badge](https://fastverse.r-universe.dev/badges/kit)](https://fastverse.r-universe.dev)

Fast data manipulation functions implemented in C for large datasets.
Provides vectorized alternatives to base R functions with significant
performance improvements.

## Installation

``` r
# From CRAN
install.packages("kit")

# Development version
install.packages("kit", repos = "https://fastverse.r-universe.dev")
```

## Features

### Parallel Statistical Functions

Vector-valued functions operating in parallel over vectors or data
frames:

- **`psum`, `pprod`, `pmean`**: Parallel sum, product, and mean (similar
  to `pmin`/`pmax`)
- **`pall`, `pany`**: Parallel all/any operations
- **`pcount`, `pcountNA`**: Count occurrences of values or NAs
- **`pfirst`, `plast`**: First/last non-missing values

``` r
x <- c(1, 3, NA, 5)
y <- c(2, NA, 4, 1)
psum(x, y, na.rm = TRUE)  # [1] 3 3 4 6
pmean(x, y, na.rm = TRUE) # [1] 1.5 3.0 4.0 3.0
```

### Vectorized and Nested Switches

Fast vectorized conditional logic:

- **`iif`**: Fast replacement for
  [`ifelse()`](https://rdrr.io/r/base/ifelse.html) with attribute
  preservation
- **`nif`**: Nested if-else (SQL CASE WHEN equivalent)
- **`vswitch`, `nswitch`**: Vectorized switch statements

``` r
iif(x > 2, x, x - 1)  # Preserves attributes unlike base::ifelse
nif(x == 1, "one", x == 2, "two", default = "other")
```

### Sorting

- **`psort`**: Parallel sort for character vectors
- **`topn`**: Efficient partial sort (top N values) without full sorting

``` r
topn(x, n = 6L, decreasing = TRUE)  # Much faster than order()[1:6]
```

### Factors

- **`charToFact`**: Fast character-to-factor conversion
- **`setlevels`**: Change factor levels by reference

### Unique Values and Counts

- **`funique`, `fduplicated`**: Fast unique/duplicated operations
- **`uniqLen`**: Fast equivalent to `length(unique(x))`
- **`count`, `countNA`, `countOccur`**: Count element occurrences

``` r
funique(iris$Species)  # Faster than base::unique
uniqLen(iris$Species)  # Faster than length(unique())
```

### Miscellaneous

- **`fpos`**: Find matrix/vector positions within larger structures
- **`shareData`, `getData`, `clearData`**: Share data between R sessions

## Documentation

Full documentation available at: <https://fastverse.github.io/kit/>

## License

GPL-3

# Package index

## Parallel Statistical Functions

Vector-valued (statistical) functions operating in parallel over vectors
passed as arguments, or a single list of vectors/data frame.

- [`psum()`](https://fastverse.github.io/kit/reference/psum.md)
  [`pprod()`](https://fastverse.github.io/kit/reference/psum.md)
  [`pmean()`](https://fastverse.github.io/kit/reference/psum.md)
  [`pfirst()`](https://fastverse.github.io/kit/reference/psum.md)
  [`plast()`](https://fastverse.github.io/kit/reference/psum.md)
  [`pall()`](https://fastverse.github.io/kit/reference/psum.md)
  [`pallNA()`](https://fastverse.github.io/kit/reference/psum.md)
  [`pallv()`](https://fastverse.github.io/kit/reference/psum.md)
  [`pany()`](https://fastverse.github.io/kit/reference/psum.md)
  [`panyNA()`](https://fastverse.github.io/kit/reference/psum.md)
  [`panyv()`](https://fastverse.github.io/kit/reference/psum.md)
  [`pcount()`](https://fastverse.github.io/kit/reference/psum.md)
  [`pcountNA()`](https://fastverse.github.io/kit/reference/psum.md) :
  Parallel (Statistical) Functions

## Vectorised and Nested Switches

Fast vectorized and nested switches.

- [`iif()`](https://fastverse.github.io/kit/reference/iif.md) : Fast if
  else
- [`nif()`](https://fastverse.github.io/kit/reference/nif.md) : Nested
  if else
- [`vswitch()`](https://fastverse.github.io/kit/reference/vswitch.md)
  [`nswitch()`](https://fastverse.github.io/kit/reference/vswitch.md) :
  Vectorised switch

## Sorting

Parallel sort for strings and partial sort (N largest/smallest).

- [`psort()`](https://fastverse.github.io/kit/reference/psort.md) :
  Parallel Sort
- [`topn()`](https://fastverse.github.io/kit/reference/topn.md) : Top N
  values index

## Factors

Fast character to factor conversion and changing factor levels by
reference.

- [`charToFact()`](https://fastverse.github.io/kit/reference/charToFact.md)
  : Convert Character Vector to Factor
- [`setlevels()`](https://fastverse.github.io/kit/reference/setlevels.md)
  : Set levels of a factor object

## Unique Values and Counts

Fast duplicated and unique and count the number of times element(s)
occur.

- [`fduplicated()`](https://fastverse.github.io/kit/reference/funique.md)
  [`funique()`](https://fastverse.github.io/kit/reference/funique.md)
  [`uniqLen()`](https://fastverse.github.io/kit/reference/funique.md) :
  Fast duplicated and unique
- [`count()`](https://fastverse.github.io/kit/reference/count.md)
  [`countNA()`](https://fastverse.github.io/kit/reference/count.md)
  [`countOccur()`](https://fastverse.github.io/kit/reference/count.md) :
  count, countNA and countOccur

## Miscellaneous

Find a matrix position inside a larger matrix and share data between R
sessions.

- [`fpos()`](https://fastverse.github.io/kit/reference/fpos.md) : Find a
  matrix position inside a larger matrix
- [`shareData()`](https://fastverse.github.io/kit/reference/shareData.md)
  [`getData()`](https://fastverse.github.io/kit/reference/shareData.md)
  [`clearData()`](https://fastverse.github.io/kit/reference/shareData.md)
  : Share Data between R Sessions

# Articles

### Introduction to kit

Introduces the package, including a walk-through of all main features.

- [Introduction to
  kit](https://fastverse.github.io/kit/articles/introduction.md):
